{% extends 'base.html' %}
{% load staticfiles %}
{% block header %}
  {% include 'headers/topbar.html' with section='events' %}
  {% include 'headers/mobile.html' %}
{% endblock %}
{% block content %}
<main class="c-calendar">
  <div class="c-calendar__banner c-page__header c-page__header--banner">
    <div class="u-container u-container--padded">
      <h1 class="c-page__heading">Events</h1>
      <h3 class="c-page__sub-heading">Upcoming campus events from UBC clubs and student organizations</h3>
    </div>
  </div>

  <div class="c-event-calendar__container u-container u-container--padded ">
    <div class="c-event-calendar__sidebar">
      {% include './calendar_categories.html' %}
    </div>
    <div class="c-event-calendar__main">
      {% for year, months in events_by_date.items %}
      {% ifnotequal year this_year %}
      <div class="c-event-calendar__year-label">
        {{ year }}
      </div>
      {% endifnotequal %}
      {% for month, days in months.items %}
      <div class="c-event-calendar__month">
        <div class="c-event-calendar__month-label">
          {{ month }}
        </div>
        {% for day, events in days.items %}
        <div class="c-event-calendar__day-row">
          <div class="c-event-calendar__day-label">{{ day }}</div>
          <div class="c-event-calendar__event-list-wrapper">
            <div class="c-event-calendar__event-list-container">
            {% for event in events %}
              <div class="c-event-calendar__event-box-container">
              {% include 'components/event-box.html' with event=event hide_datebox=False hide_day_label=True only %}
              </div>
            {% endfor %}{# event #}
          </div>
          </div>
        </div>
        {% endfor %}{# day #}
      </div>
      {% endfor %}{# month #}
      {% endfor %}{# year #}
    </div>
  </div>
</main>
{% endblock %}
