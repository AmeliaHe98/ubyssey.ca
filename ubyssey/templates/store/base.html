{% load staticfiles %}
{% load dispatch_tags %}
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'images/favicons/apple-touch-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'images/favicons/apple-touch-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'images/favicons/apple-touch-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'images/favicons/apple-touch-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'images/favicons/apple-touch-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'images/favicons/apple-touch-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'images/favicons/apple-touch-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'images/favicons/apple-touch-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favicons/apple-touch-icon-180x180.png' %}">
    <link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-32x32.png' %}" sizes="32x32">
    <link rel="icon" type="image/png" href="{% static 'images/favicons/android-chrome-192x192.png' %}" sizes="192x192">
    <link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-96x96.png' %}" sizes="96x96">
    <link rel="icon" type="image/png" href="{% static 'images/favicons/favicon-16x16.png' %}" sizes="16x16">
    <link rel="manifest" href="{% static 'images/favicons/manifest.json' %}">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="fb:pages" content="99164676792" />

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% add_version 'css/store.css' %}" type="text/css"/>
    <link rel="stylesheet" href="{% add_version 'css/main.css' %}" type="text/css"/>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="{% add_version 'js/simpleCart.js' %}" type="text/javascript"></script>
    <script>
        simpleCart({
          // array representing the format and columns of the cart,
          // see the cart columns documentation
          cartColumns: [
              { view: function(item, column) { 
                const name = item.get('name')
                const description = item.get('description')
                const size = item.get('size')
                return (
                  `
                    <div class='flex-row a-center c-cart-product'>
                      <div class='c-cart-image' style='background-image: url("${item.get('imageURL')}")'></div>
                      <div class='flex-row'>
                        <div class='flex-column j-space-between'>
                          <h3>${name}</h3>
                          ${size ? `<em>Size: ${size}</em>` : ``}
                        </div>
                      </div>
                      <a href='javascript:;' class='flex-row simpleCart_remove'> 
                        <i class="fa fa-trash" /> Remove
                      </a>
                    </div>
                  `
                )
              },attr: "name", label: "Product"},
              { view: "currency", attr: "price", label: "Price"},
              { view: function( item , column ){
                // return some html
                return (
                  `
                    <div class='flex-row j-space-around a-center c-cart-quantity'>
                      ${item.quantity()} 
                      <div class='flex-column j-space-around'>
                        <a href='javascript:;' class="simpleCart_increment fa fa-sort-up"></a> 
                        <div style='height: 10px'></div>
                        <a href='javascript:;' class="simpleCart_decrement fa fa-sort-down"></a> 
                      </div>
                    </div>
                  `
                )
              }, attr: "quantity", label: "Qty",},
              { view: "currency", attr: "total", label: "Total" },
          ],
          cartStyle: "div", 
          // how simpleCart should checkout, see the 
          // checkout reference for more info 
          checkout: { 
              type: "PayPal" , 
              email: "you@yours.com" 
          },
          currency: "CAD",
          // collection of arbitrary data you may want to store 
          // with the cart, such as customer info
          data: {},
          language: "english-us",
          excludeFromCheckout: [],
          // custom function to add shipping cost
          shippingCustom: null,
          // flat rate shipping option
          shippingFlatRate: 0,
          // added shipping based on this value 
          // multiplied by the cart quantity
          shippingQuantityRate: 0,
          // added shipping based on this value 
          // multiplied by the cart subtotal
          shippingTotalRate: 0,
          // tax rate applied to cart subtotal
          taxRate: 0,
          // true if tax should be applied to shipping
          taxShipping: false,
          // event callbacks 
          beforeAdd             : null,
          afterAdd              : null,
          load                  : null,
          beforeSave            : null,
          afterSave             : null,
          update                : null,
          ready                 : null,
          checkoutSuccess       : null,
          checkoutFail          : null,
          beforeCheckout        : null,
          beforeRemove          : null
        })
    </script>
    <script src="{% add_version 'js/store.js' %}" type="text/javascript"></script>
  </head>

  <body>
    {% block header %}{% include 'store/header.html' %}{% endblock %}
    {% block content %}{% endblock %}
    {% block footer %}{% include 'footer.html' %}{% endblock %}
  </body>
</html>
